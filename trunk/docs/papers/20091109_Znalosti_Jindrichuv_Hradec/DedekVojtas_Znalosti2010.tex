\documentclass[czech]{llncs}
%\usepackage{czech}
\usepackage[czech]{babel}
\usepackage{amssymb}
\usepackage[cp1250]{inputenc}
\input{unity}

\hyphenation{op-tical net-works semi-conduc-tor IEEEtran }


\title{Evaluace fuzzy ILP klasifikátoru na datech o~dopravních nehodách}
\author{Jan Dìdek, Peter Vojtáš, Marta Vomlelová}
\institute{Katedra softwarového inženýrství, MFF, Univerzita Karlova v Praze
%\\ Katedra teoretické informatiky a matematické logiky, MFF, UK v Praze
\\ Malostranské námìstí 25, 118 00, Praha 1
\\ \email{dedek@ksi.mff.cuni.cz}}

\begin{document}
\maketitle

\begin{abstract}
Motivací pro tento pøíspìvek je klasifikace zpráv o dopravních a jiných nehodách podle jejich závažnosti. Pro tento úèel jsme použili nový druh klasifikátoru, který je založen na induktivním logickém programování a fuzzy logice. V pøíspìvku nabízíme srovnání tohoto fuzzy ILP klasifikátoru s dalšími alternativami, jmenovitì s~rozhodovacími stromy J48, s~klasifikátorem SVM a s~vícevrstvým perceptronem. Výsledky tohoto srovnání ukazují, že fuzzy ILP klasifikátor je na tìchto datech srovnatelný se zmínìnými alternativami.
\end{abstract}

{\small {\bf Klíèová slova:} fuzzy, ILP, klasifikace, strojové uèení}

\section{Úvod}
V našem výzkumu se zabýváme extrakcí informací z webových reportù. Jednou z datových sad, které používáme, jsou záznamy o~hasièských výjezdech publikované na stránkách Hasièských záchranných sborù ÈR\footnote{\url{http://www.hzscr.cz/}}.
Klasifikace závažnosti nehody pøedstavuje pøímoèaré využití strukturovaných informací extrahovaných z reportu o ní. V tomto pøíspìvku se nezabýváme tím, jak získat strukturované informace z textového reportu (o tom viz napø. naši práci \cite{biblio:DeVoLinguisticextraction2008}), ale tím, jak na~základì takových informací urèit závažnost dané nehody.

V naší pøedešlé publikaci \cite{biblio:DeVoWIIAT2009} jsme implementovali netypický druh klasifikátoru, který je založen na~induktivním logickém programování a fuzzy logice. Tento klasifikátor jsme použili na stejná data jako v této práci, ale vyhodnocení úspìšnosti tohoto klasifikátoru nebylo úplné. Nedostatky pøedešlé práce shrneme v následujících dvou bodech a v této práci se je pokusíme napravit a podrobnìji vysvìtlit výsledky srovnání.

\begin{description}
	\item[Køížová validace.] Aby bylo srovnání metod alespoò trochu objektivní a daly se z~nìj odvodit statisticky relevantní závìry, je nutné spustit test nìkolikrát na rùzných trénovacích a testovacích datech. Køížová validace je ideálním prostøedkem k naplnìní tohoto cíle.
	\item[Srovnání s alternativami.] Aby ètenáø mohl posoudit, jak kvalitních výsledkù metoda dosahuje, je nutné dát k dipozici i výsledky alternativních øešení nad shodnými daty.
\end{description}

\section{Data}
Data, na kterých jsme experiment provedli, pocházejí z padesáti hasièských zpráv. U každé zprávy jsme vyhodnotili celkem tøináct ukazatelù, které sloužily jako vstup pro klasifikaci (napø. poèet mrtvých, vyèíslená škoda, doba potøebná na~likvidaci nehody, poèet zasahujících jednotek, atp). Závažnost nehody jsme rozdìlili do ètyø tøíd a stanovovali jsme ji na základì celkového dojmu, který jsme z popisu nehody získali. Podrobnìjší popis datové sady je možné nalézt v~èlánku \cite{biblio:DeVoWIIAT2009}. 



\section{Fuzzy ILP klasifikátor}

Podrobný popis konstrukce fuzzy ILP klasifikátoru, který jsme použili, je možné nalézt v èlánku \cite{biblio:DeVoWIIAT2009}. 
%Zpùsob konstrukce klasifikátoru je pøevzatý z èlánku \cite{biblio:FILP}.
Spojení ILP s fuzzy logikou spoèívá v~zavedení axiomù monotonie pro numerické atributy  -- napøíklad axiom: 
\\{\footnotesize\texttt{mrtvých\_alespoò(Nehoda,Poèet) $\leftarrow$ mrtvých(Nehoda,Poèet2),Poèet$\leq$Poèet2.}}
\\a v takzvaném zmonotonizování uèících pøíkladù. V pøípadì, že cílový atribut klasifikace je monotonní (napø. stupeò závažnosti nehody 1 je menší než stupnì 2 a 3), se mùžeme pokusit nauèit místo crisp predikátu (\texttt{závažná(Nehoda,Stupeò)}) odpovídající monotonizovaný predikát (\texttt{závažná\_alespoò(Nehoda,Stupeò)}). Induktivní procedura má potom více pozitivních uèících pøíkladù a monotonizované predikáty lépe vystihují povahu numerických dat.  Pro porovnání s klasickými klasifikátory je však nutné výsledky monotónních pravidel pøevést zpìt na crip. Fuzzy ILP klasifikátor budeme dále oznaèovat \emph{monot} ILP, naproti tomu \emph{crisp} ILP oznaèuje prosté ILP bez monotonizace dat.


\section{Vyhodnocení}
Pro vyhodnocení úspìšnosti fuzzy ILP klasifikátoru jsme použili pìtinásobnou køížovou validaci a výsledky porovnali s dalšími ètyømi klasifikátory. Prvním klasifikátorem je prosté ILP bez monotonizace dat (crisp ILP). Pro srovnání jsme použili ještì další tøi známé klasifikátory, které jsou souèástí softwarového balíku Weka\footnote{\url{http://www.cs.waikato.ac.nz/ml/weka/}}. Jmenovitì rozhodovací stromy J48 \cite{biblio:J48}, Support vector machine klasifikátor SMO \cite{biblio:SMO} a vícevrstvý perceptron \cite{biblio:bishop-1995}.


\image{img:measures}{Úspìšnosti jednotlivých klasifikátorù (prùmìr a smìrodatná odchylka)}{img/measures_table}{0.8\hsize}{2cm}
\image{img:fmeasure}{Hodnoty f-míry bìhem køížové validace, prùmìr a smìrodatná odchylka.}{img/fmeasure_graph}{\hsize}{6cm}
\image{img:boxplot}{Kvantilová analýza f-míry (minimum, $Q_{0,25}$, medián, $Q_{0,75}$, maximum)}{img/boxplot}{0.8\hsize}{6.5cm}

Namìøené úspìšnosti shrnuje tabulka na obrázku~\ref{img:measures}.
Pro vyhodnocení jsme použili standardní míry požívané v information retrieval\footnote{\url{http://en.wikipedia.org/wiki/Information\_retrieval}}.
Podrobnìjší analýza hodnot f-míry (harmonického prùmìru pøesnosti a úplnosti) v jednotlivých fázích køížové validace je znázornìna na obrázcích~\ref{img:fmeasure}~a~\ref{img:boxplot}. Výsledky jednotlivých klasifikátorù jsou si velmi blízké. Z prùmìrných hodnot f-míry a jejích smìrodatných odchylek zjistíme, že pro statisticky významný závìr bychom potøebovali víc dat\footnote{Pro jednoduchost uvažujme normální rozdìlení. Pro konfidenci 0,95 bude hranice konfidenèního intervalu vzdálena $1,65*stdev$ od prùmìrné hodnoty. Pro f-míru a  monot ILP dostáváme 0,1839 jako spodní hranici konfidenèního intervalu, což je daleko pod hodnotami ostatních klasifikátorù.}. Nicménì s pomocí kvantilové analýzy (obr.~\ref{img:boxplot}) je možné odhadnout, že \emph{monot} ILP dává lepší výsledky než \emph{crip} ILP a SMO. Relativnì špatné výsledky SMO klasifikátoru jsou však pravdìpodobnì zpùsobeny vysokým množstvím vstupních atributù, které by bylo vhodné pøed SMO analýzou zredukovat. S~tímto problémem si naopak velmi dobøe poradily rozhodovací stromy J48, jejichž výsledky byly nejen vysoké, ale i stabilní.


%
%\subsection{Citace a reference}
%Všechny citace musí být uzavøeny v hranatých závorkách (napø.
%\cite{nazev1}). Seznam referencí na konci pøíspìvku musí být
%uveden v abecedním poøadí dle autorù.
%
%Formátování odkazu na èlánek v èasopise nebo ve sborníku
%konference viz \cite{nazev1}, formátování odkazu na knihu viz
%\cite{nazev2}, formátování odkazu na www stránku viz
%\cite{nazev3}. Pøíklad viz \cite{nazev4}.

\subsection*{Podìkování}
Tato práce byla èásteènì podpoøena èeskými projekty GAÈR-201/09/H057, GAUK 31009 a MSM-0021620838.

%\bibliographystyle{splncs}
%\bibliography{DedekVojtas_Znalosti2010}  % sigproc.bib is the name of the Bibliography in this case

\input{DedekVojtas_Znalosti2010.bbl}


%\begin{thebibliography}{99}
%
%\bibitem{nazev1} Autor. Název pøíspìvku ve sborníku nebo v èasopise. \emph{Název a
%roèník konference nebo název, roèník a èíslo èasopisu}. Místo a
%rok vydání. ISBN.
%\bibitem{nazev2} Autor. \emph{Název knihy}. Vydavatel, rok a místo vydání. ISBN.
%
%\bibitem{nazev3} Autor nebo instituce. URL, pøípadnì název stránky.
%
%\bibitem{nazev4} Skopal T. Ukázka použití šablony pøíspìvku pro sborník
%konference Znalosti 2006. \emph{sborník konderence ZNALOSTI 2006}.
%Ostrava 2006. ISBN XXX-XXX.
%
%\end{thebibliography}


\bigskip

\noindent \textbf{Annotation:}

\smallskip
%Evaluace fuzzy ILP klasifikátoru na datech o~dopravních nehodách
\noindent \textit{Evaluation of fuzzy ILP classifier on data about car accidents}

\smallskip

%Motivací pro tento pøíspìvek je klasifikace zpráv o dopravních a jiných nehodách podle jejich závažnosti. Pro tento úèel jsme použili nový druh klasifikátoru, který je založen na induktivním logickém programování a fuzzy logice. V pøíspìvku nabízíme srovnání tohoto Fuzzy ILP klasifikátoru s dalšími alternativami, jmenovitì s~rozhodovacími stromy J48, s~klasifikátorem SVM a s~vícevrstvým perceptronem. Výsledky tohoto srovnání ukazují, že Fuzzy ILP klasifikátor je na tìchto datech srovnatelný až nepatrnì úspìšnìjší než zmínìné alternativy.


\noindent Our motivation is to classify web reports about car and other accidents according to its seriousness. For this purpose we have used a new classification method based on inductive logic programming and fuzzy logic. In this paper we present a comparison of this method with other classifiers like J48 decision trees, SVM and multilayer perceptron. Our results show that on our dataset the fuzzy ILP method is fully comparable with the alternatives.

\end{document}
