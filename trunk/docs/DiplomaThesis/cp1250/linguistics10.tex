%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Lingvistická anotace}
\label{sec:ling_anot}

Lingvistickou anotací budeme v této práci oznaèovat èinnost, pøi které se text pøirozeného jazyka obohacuje o lingvistickou informaci o slovech, vìtách, vztazích mezi slovy, mezi vìtami, o typu a pùvodu textu atp. Lingvistická anotace nebo té znaèkování korpusu je jedna z èinností korpusové lingvistiky. Korpusem rozumíme soubor textù spolu s lingvistickou informací k nim dodanou. Korpusová lingvistika je pomìrnì novou disciplínou, její vznik, stejnì jako vznik celé poèítaèové lingvistiky vùbec, umonil rozvoj vıpoèetní techniky posledních let. Korpusová lingvistika se zabıvá zkoumáním a shromaïováním textù pøirozeného jazyka (vytváøením korpusu). Texty se anotují za velké podpory poèítaèe - napøíklad morfologická desambiguace (viz~\ref{sec:morphological_tagging}) by byla bez softwarové podpory nadlidskı úkol. Avšak pro anotaci korpusu je stále nutná spousta lidské \uv{ruèní} práce. Takto anotované texty pøedstavují velmi cenná data, ze kterıch se pøedevším pomocí statistickıch metod dají vyvodit nové poznatky o jazyce. Díky ruènì anotovanım korpusùm vynikla a stále vyniká vìtšina softwarovıch nástrojù pro poèítaèové zpracování pøirozeného jazyka.

Korpusová lingvistika dnes nemalou mírou pøispívá k jazykovému vızkumu. Na stránkách Èeského národního korpusu\footnote{http://ucnk.ff.cuni.cz/} se dokonce uvádí, e pøináší natolik nové poznatky o jazyce, e do dosavadního vıvoje jazykovìdy vnáší radikální pøevrat. Toto tvrzení nemusí pùsobit pøekvapivì, pokud napøíklad srovnáme pùvodní latinskou lingvistickou terminologii s tou, která vzniká v poèítaèové lingvistice v poslední dobì.

Korpusy se v zásadì znaèkují tøemi druhy znaèek. 1) Znaèky správní zachycují identifikaèní údaje o kadém textu - informace o jeho pùvodu a zdroji. 2) Znaèky strukturní zachycují hierarchickou strukturu textu tj rozdìlení textu do kapitol, odstavcù, vìt, slov a interpunkèních znamének (tokenù). 3) Znaèky lingvistické jsou pøiøazeny k jednotlivım slovùm a nesou informaci o lingvistickıch kategoriích, které dané slovo nese.

Samostatnou kapitolou lingvistické anotace je potom zachycení gramatické stavby vìty. K tomu se pouívají dva typy gramatik - sloková a závislostní gramatika. Závislostní gramatika má dlouholetou tradici v popisu jazykù evropského kontinentu a zdá se, e má urèité vıhody i pro popis angliètiny, která bıvá èastìji zpracovávána gramatikou slokovou. Slokovı popis je blíe Chomského pojetí jazyka. Vìta je podle slokové gramatiky rekurzivnì dìlena do menších a menších sloek. Postup zaèíná rozdìlením vìty na èást podmìtnou a pøísudkovou a postupuje dìlením tìchto sloek na podsloky a dojde k jednotlivım slovùm. Závislostní pøístup naproti tomu vezme jednotlivá slova a ta pospojuje závislostními hranami do takzvaného závislostního stromu. Velmi podrobnì je problematika gramatik a vìtné syntaxe popsána v \cite{sgall_syntaxe}.

Kromì toho, e je moné strukturu vìty pøirozeného jazyka zapisovat pomocí rùznıch typù gramatik, je té moné zapisovat tuto strukturu na rùznıch vıznamovıch rovinách. Lingvistickı vızkum rùznıch jazykù ukazuje vhodnost takového vícevrstvého popisu. Na~rùznıch rovinách je toti moné pøehlednìji postihnout rùzné jazykové jevy. Tento problém je podrobnìji rozveden v~práci \cite{platek_cz_pc}, dále je zde pøedstavena tradièní trojice rovin pro popis struktury vìty. Jsou to 1) rovina morfématická (té morfologická) - tvarosloví 2) rovina povrchové syntaxe (té rovina mluvnické stavby vìty èi analytická rovina) 3) rovina tektogramatická neboli vıznamová stavba vìty nebo té hloubková syntax. Stejnì jsou roviny lingvistické anotace zpracovány v projektu PDT (viz oddíl~\ref{sec:PDT}), z jeho popisu budeme dále vycházet.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Lingvistické znaèky}
\label{sec:ling_tag}
Lingvistické znaèky rozdìlíme do tøí kategorií. Podle roviny lingvistické anotace, tak jak jsou rozdìleny v projektu PDT (viz oddíl~\ref{sec:PDT}). Znaèky morfologické roviny jsou nezávisle pøiøazovány jednotlivım slovùm. Naproti tomu znaèky analytické a tektogramatické roviny popisují strukturu vìty a jejich znaèky popisující vztahy mezi jednotlivımi slovy se mohou tıkat více slov najednou.

Následuje struènı popis jednotlivıch znaèek kadé roviny. Podrobnìjší popis lingvistickıch znaèek je moné najít napøíklad v \cite{morphological_annotation}, \cite{analytic_annotation}, \cite{tectogramtic_annotation}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Morfologická rovina}
\subsubsection{Slovní tvar}
Tato znaèka obsahuje tvar, v jakém se dané slovo vyskytuje v pùvodním textu vèetnì zápisu malıch a velkıch písmen. Od pùvodního vıskytu se liší se jen ve vıjimeènıch pøípadech, kdy napøíklad pùvodní slovní tvar byl èíslice s desetinnou èárkou (snaha o jednotnı zápis èísel) nebo se jednalo o pøeklep.
\subsubsection{Lemma}
\label{sec:lemma}
Lemma je takzvanı základní tvar slova. Jednoznaènì slovo identifikuje. V~tomto tvaru je dané slovo obvykle uvádìno ve slovnících.
\subsubsection{Morfologická znaèka}
Morfologická znaèka v sobì spojuje informaci o morfologickıch kategoriích, které dané slovo nese. Z morfologické znaèky je moné zjistit slovní druh, jmennı rod, èíslo, pád, osobu, èas, atd.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Analytická rovina}
Analytická rovina je první úroveò pro strukturní anotaci. Opouští se zde lineární anotace, kdy je kadé slovo bráno samostatnì bez ohledu na kontext, a do anotace textu se zavádí vìtná struktura. Všechna pùvodní slova textu zùstávají zachována a dostávají ve vısledné struktuøe svou funkci.

Na analytické rovinì se vytváøí stromová struktura vìty (stromem rozumíme orientovanı acyklickı graf s jedním koøenem). Uzly stromu jsou tvoøeny jednotlivımi slovy respektive tokeny. Hrany stromu reprezentují vztahy závislosti. Do koøene stromu je umístìno øídící sloveso vìty, na toto sloveso se pak zavìšují ostatní slova. V pøípadì, e se jedná o souøadné souvìtí, koøenem stromu je spojka pøípadnì èárka, která jednotlivé vìty souvìtí oddìluje. Základním cílem je korektní zachycení struktury vìty a oznaèení typu závislosti. Typ závislosti je uloen uvnitø lingvistické znaèky \emph{analytická funkce}.

\subsubsection{Analytická funkce}
Analytická funkce je pomìrnì dobøe známı pojem, kterı se poívá na èeskıch základních a støedních školách pøi takzvaném vìtném rozboru. Tam se ale vìtšinou neoznaèuje jako analytická funkce ale jako \emph{vìtnı èlen}.

V závislostním stromu analytické roviny anotace, se analytickou funkcí oznaèí kadá závislostní hrana. Analytická funkce oznaèuje typ této závislosti.

\noindent Pøíklady analytickıch funkcí:
\begin{itemize}
\item Predikát (pøísudek)
\item Subjekt (podmìt)
\item Objekt (pøedmìt)
\item Atribut (pøívlastek)
\item Adverbiale (pøísloveèné urèení)
\item ...
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[!ht]
\begin{center}
\framebox{\includegraphics[scale=0.7]{../analytic_example.eps}}
\caption{Pøíklad notace na analytické rovinì} \label{pict:analytic_example}
\end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Tektogramatická rovina}
Tektogramatická rovina je pomìrnì rozsáhlı koncept s hlubokou lingvistickou teorií v pozadí. Byla popsána u v roce 1961 v èlánku \cite{curry_t_rovina}.

Tektogramatická rovina slouí k zachycení vıznamové struktury vìty. Struktura reprezentace zùstává stejná jako na analytické úrovni, avšak nìkteré uzly se vypouští, nìkteré se pøidávají, a struktura vìty mùe bıt obecnì jiná, ne na analytické úrovni. U vìt které pøipouštìjí více rùznıch vıznamù (víceznaèné vìty) je teoreticky moné vytvoøit více tektogramatickıch stromù. V pøípadì synonymie mùe naopak rùznım vìtám odpovídat tentı tektogramatickı strom. Tedy zatímco na morfologické rovinì jsou kadému slovu vìty pøiøazeny jeho lema a tag (morfologická znaèka) a na~analytické rovinì kadému slovu vìty odpovídá uzel v analytickém stromì s pøíslušnou analytickou funkcí, tektogramatická rovina u tento tìsnı vztah k povrchovému zápisu vìty nemá. Uzly tektogramatické roviny v sobì nesou informaci rozdìlenou do nìkolika atributù. Základními atributy uzlu tektogramatického stromu jsou tektogramatické lema, gramatémy a funktor. Vztah mezi uzly tektogramatické a analytické roviny (kterı je obecnì typu M:N), je té zachycen v nìkolika atributech uzlù tektogramatického stromu. Následuje podrobnìjší popis nìkterıch atributù

\subsubsection{Tektogramatické lemma}
Tektogramatické lemma (t-lemma) zachycuje lexikální vıznam uzlu. U jednoduchıch uzlù odpovídá lemmatu, které bylo øídícímu slovu tektogramatického uzlu pøiøazeno na morfologické rovinì. Uzlùm na tektogramatické rovinì novì vytvoøenım je pøiøazeno zástupné t-lema speciálního tvaru.

\subsubsection{Sémantickı slovní druh a jeho podskupiny}
Uzly tektogramatického stromu (respektive jejich øídící slova) se rozdìlují do takzvanıch \emph{sémantickıch podskupin slovního druhu}. Toto dìlení zaèíná rozdìlením uzlù podle takzvanıch \emph{sémantickıch slovních druhù}. Z pùvodních deseti slovních druhù, které v èeštinì rozlišujeme, vzniknou ètyøi sémantické slovní druhy: sémantická substantiva, sémantická adjektiva, sémantická adverbia a sémantická slovesa. Tato se pak dále dìlí do sémantickıch podskupin. Napøíklad sémantická substantiva se dìlí na \emph{pojmenovací}, \emph{pronominální} a \emph{kvantifikaèní}. Podrobnì je celé toto rozdìlení popsáno v~\cite{tectogramtic_annotation}.

\subsubsection{Gramatémy}
Gramatémy jsou tektogramatickım rozšíøením morfologickıch znaèek. Gramatémy nalezneme pouze mezi atributy uzlù u kterıch to má smysl, tedy u uzlù které se vztahují k nìjakému vıznamovému slovu vìty. Navíc rùznım slovním druhùm lze pøidìlit jen nìkteré gramatémy (napøíklad nemá smysl urèovat slovesnı èas u podstatného jména). Podle toho, do které sémantické podskupiny slovního druhu danı uzel patøí, je moné urèit, které gramatémy pro nìj mají smysl a které nikoli.

\subsubsection{Funktor}
Funktory jsou velkım pøínosem tektogramatické roviny po praktické stránce. Funktory chápeme jako sémantické ohodnocení hran mezi uzly tektogramatického stromu. Tektogramatické funktory mùeme té chápat jako ekvivalent analytickıch funkcí. Rozdíl mezi tektogramatickımi funktory a analytickımi funkcemi je v tom, e funtoktory se snaí postihnout sémantiku vztahu, zatímco analytické funkce se zamìøují na jeho syntaktickou roli. Následuje popis nìkterıch dùleitıch funktorù vdy s nìkolika pøíklady jejich vıskytu ve vìtì. Vyèerpávající seznam je moné nalézt napøíklad v \cite{tectogramtic_annotation}.


\begin{itemize}

\item Funktor ACT (actor) oznaèuje pùvodce dìje, nositele dìje nebo vlastnosti.
\begin{description}
\item[-] Její \emph{manel}.ACT tam však pracuje dál.
\item[-] Ten \emph{román}.ACT mì oslovil.
\item[-] Èeskım \emph{skokanùm}.ACT se daøilo dobøe.
\item[-] Je \emph{mi}.ACT smutno.
\end{description}

\pagebreak

\item Funktor ADDR (addressee) odpovídá roli pøíjemce dìje.
\begin{description}
\item[-] Dal \emph{dítìti}.ADDR hraèku.
\item[-] Uèí \emph{dìti}.ADDR angliètinu.
\item[-] Obrátil se na \emph{soud}.ADDR s problémem.
\end{description}

\item Funktor PAT (patiens) oznaèuje pøedmìt dìjem zasaenı.
\begin{description}
\item[-] Snìdl \emph{polévku}.PAT
\item[-] Neubliujte \emph{zvíøatùm}.PAT
\item[-] Uèil se \emph{kominíkem}.PAT
\item[-] Mít dost \emph{penìz}.PAT
\end{description}

\item Funktor MANN (manner) vyjadøuje, hodnotí zpùsob provedení dìje.
\begin{description}
\item[-] Pracuje \emph{pomalu}.MANN
\item[-] \emph{Nìjak}.MANN to udìláme.
\item[-] \emph{Prudce}.MANN se zvıšily mezibankovní úrokové míry.
\end{description}

\item Funktor TWHEN (temporal : when) vyjadøuje èasové urèení odpovídající na otázku "kdy?".
\begin{description}
\item[-] \emph{Zítra}.TWHEN má bıt u hezky.
\item[-] \emph{Hned}.TWHEN se vrátím.
\item[-] Souèástka se \emph{èasem}.TWHEN opotøebuje.
\end{description}

\item Funktor LOC (locative) oznaèuje místo, do kterého je dìj nebo stav vyjádøenı øídícím slovem lokalizován.
\begin{description}
\item[-] Zùstaò \emph{doma}.LOC
\item[-] \emph{Nalevo}.LOC stál pìknı dùm.
\item[-] \emph{Místy}.LOC leel v ulicích ještì sníh.
\end{description}

\item Funktor DIR1 (directional: from) vyjadøuje urèení místa odpovídající na otázku "odkud?".
\begin{description}
\item[-] Pøijel z \emph{Prahy}.DIR1
\end{description}

\item Funktor DIR2 (directional: which way) vyjadøuje urèení místa odpovídající na otázku "kudy?".
\begin{description}
\item[-] Jdou \emph{lesem}.DIR2
\end{description}

\item Funktor DIR3 (directional: to) vyjadøuje urèení místa odpovídající na otázku "kam?".
\begin{description}
\item[-] Pøišel \emph{domù}.DIR3
\end{description}

\item Funktor RSTR volnì doplòuje blíe specifikující øídící substantivum.
\begin{description}
\item[-] \emph{velkı}.RSTR dùm
\end{description}

\item Funktor CONJ (conjuction) je koøen souøadné struktury (tektogramatického podstromu), která reprezentuje spojení dvou a více obsahù.
\begin{description}
\item[-] Jezte ovoce \emph{a}.CONJ zeleninu.
\end{description}

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[!bh]
\begin{center}
\framebox{\includegraphics[scale=0.7]{../tecto_example.eps}}
\caption{Pøíklad notace na tektogramatické rovinì} \label{pict:tecto_example}
\end{center}
\end{figure}

\pagebreak

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Pøíklady}
Pro ilustraci pøedkládáme dva obrázky závislostních stromù, které vznikli ruèní anotací vìty:
\begin{quote}
\emph{Pìtice finskıch vzpìraèù byla svou národní federací potrestána za doping.}
\end{quote}
Na obrázku~\ref{pict:analytic_example} je strom analytické roviny a na obrázku~\ref{pict:tecto_example} je strom tektogramatické roviny. Za povšimnutí stojí rozdíl v poètu uzlù obou stromù, kterı je na tektogramatické rovinì o nìco menší. Oba tyto pøíklady pocházejí z PDT 2.0 - sample data. Obrázky jsou vygenerované pomocí editoru TrEd (viz~\ref{sec:tred}).

Kromì struktury jednotlivıch stromù v této kapitole popisovanıch jsou na obrázcích vidìt i další pøedevším technické jevy spojené s konkrétní reprezentací lingvistické anotace. Napøíklad tetogramatické funktory a analytické funkce nejsou pøiøazeny k hranám stromu ale k~závislému uzlu, kadı strom má navíc takzvanı \emph{technickı koøen}, na kterém teprve skuteènı koøen lingvistického stromu visí. Technickı koøen nese administrativní atributy stromu (napøíklad atribut \emph{id} -- jednoznaènı identifikátor). U analytického stromu té stojí za povšimnutí umístìní teèky na konci vìty, která je potomkem umìlého koøene. Uzly obou stromù jsou zleva doprava uspoøádány podle poøadí, v jakém se slova odpovídající danım uzlùm vyskytují v pùvodní vìtì.

Schéma analytického stromu je jednodušší. Pod kadım uzlem jsou vytištìny hodnoty dvou atributù (hodnoty dvou lingvistickıch znaèek). První atribut obsahuje pùvodní \emph{tvar slova} a v druhém je zkratka \emph{analytické funkce} tohoto uzlu.

Schéma tektogramatického stromu je o nìco sloitìjší. Pod kadım uzlem jsou vytištìny hodnoty tøí atributù. První atribut obsahuje \emph{lemma}, prostøední tektogramatickı \emph{funktor} a poslední vyjadøuje \emph{sémantickou podskupinu slovního druhu}, do které øídicí slovo tohoto uzlu patøí. Podrobnosti o~tìchto atributech a jejich hodnotách je moné nalézt v~\cite{tectogramtic_annotation}.

Na obrázku~\ref{pict:tecto_example} (tektogramatického stromu) je vidìt speciální zahnutá šipka od uzlu \emph{\#PersPron} k uzlu \emph{pìtice}. Konec této šipky ukazuje na cíl, na kterı odkazuje zájmeno uvnitø prvního (poèáteèního) uzlu.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{The Prague Dependency Treebank}
\label{sec:PDT}
Praskı závislostní korpus (PDT) je probíhající projekt Centra poèítaèové lingvistiky Ústavu formální a aplikované lingvistiky (ÚFAL) v Praze\footnote{http://ufal.mf\/f.cuni.cz/}

Náplní projektu je pøedevším ruèní lingvistická anotace velkého mnoství èeskıch textù. Projekt se vyznaèuje velkou hloubkou anotace, která sahá a po tektogramatickou rovinou. Kromì velkého mnoství anotovanıch textù bylo v souvislosti s projektem vyvinuto i mnoství uiteènıch nástrojù pro práci s anotacemi a nástroje, které umoòují automatickou lingvistickou anotaci èeského textu.

Historie projektu PDT zaèíná v roce 1995. Od té doby se korpus PDT rozšíøil a na souèasnou (PDT~2.0) velikost 2 milióny slov s provázanımi anotacemi na úrovni morfologie (2 milióny slov), povrchové syntaxe (1,5~mil. slov) a hloubkové syntaxe a sémantiky (0,8 mil.~slov). Poprvé byl korpus PDT (verze~0.5) veøejnì pøedstaven v roce 1998. V roce 2001 bylo publikováno CD-ROM PDT 1.0, které obsahovalo pøiblinì 1,5 mil. slovních jednotek anotovanıch na analytické rovinì.

V roce 2006 byla publikována poslední souèasná verze korpusu jako CD-ROM PDT~2.0 \cite{PDT20}. Korpus PDT je v této verzi rozšíøen o tektogramaticky anotvaná data. CD-ROM PDT~2.0 dále obsahuje mnoství kvalitních lingvistickıch nástrojù (viz~\ref{sec:ling_tools}) a publikací, mezi které patøí obsáhlı manuál (více ne 1000 stran) pro tektogramatické znaèkování \cite{tectogramtic_annotation}.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Jazyky pro zápis lingvistickıch anotací}
\label{sec:ling_lang}
Nyní krátce rozvedeme, v jakıch formátech se lingvistické anotace uchovávají. Jedná se vìtšinou o formáty vzniklé pro potøeby korpusu PDT a pøíbuznıch nástrojù. Podrobnosti\footnote{http://ufal.mf\/f.cuni.cz/pdt2.0/doc/data-formats/} o tìchto formátech je moné nalézt v~Prùvodci PDT 2.0 \cite{PDT20}.

\subsection{CSTS - Czech Sentence Tree Structure}
Formát zvanı CSTS, zaloenı na SGML\footnote{http://www.w3.org/MarkUp/SGML/}, byl hlavním formátem dat v PDT 1.0. Nyní (v PDT 2.0) je pouíván jen jako pøechodnı formát pro kompatibilitu se staršími nástroji pro zpracování jazyka (taggery, parsery, ...).
CSTS mùe reprezentovat jen morfologickou a analytickou anotaci, není schopen plného popisu tektogramatické roviny.

\subsection{PML - The Prague Markup Language}
\label{sec:PML}
Hlavním formátem dat v PDT 2.0 je formát nazvanı PML. PML je zaloenı na XML, je navrenı pro reprezentaci bohaté lingvistické anotace textù, jako jsou morfologické znaèkování, závislostní stromy apod. V PML se mohou jednotlivé oddìlené roviny anotace pøekrıvat a mohou bıt konzistentnì propojeny jak mezi sebou, tak i s dalšími zdroji dat. Kadá rovina anotace je popsána v souboru PML schéma, kterı je jakousi formalizací abstraktního anotaèního schématu pro tu konkrétní rovinu anotace.

Anotace PDT 2.0 je rozdìlena do ètyø rovin, naskládanıch jedna na druhou. Kadá z tìchto rovin má vlastní PML schéma a zpravidla se ukládá do zvláštního soubotu. Jedná se o tyto ètyøi roviny: rovina slovní (soubory~\emph{.w}), rovina morfologická (soubory~\emph{.m}), rovina analytická (soubory~\emph{.a}) a rovina tektogramatická (soubory~\emph{.t}). Pro podrobnosti o rovinách lingvistické anotace viz \ref{sec:ling_tag}.

Další informace je moné nalézt na stránkách PML projektu\footnote{http://ufal.mf\/f.cuni.cz/jazz/PML/} pøípadnì v publikaci~\cite{PML}.

%%http://ufal.mff.cuni.cz/pdt2.0/doc/data-formats/pml/index.html

\subsection{FS - Feature Structure}
\label{sec:FS}
Formát FS (\uv{feature structure"}) je formát souborù pro reprezentaci stromù, jejich uzly jsou struktury atribut-hodnota. Mùe bıt chápán jako "meta formát", podobnì jako SGML nebo XML. Konkrétní pouití tohoto formátu je plnì specifikováno deklarací atributù v hlavièce FS souboru. Formát FS byl primárnì vytvoøen pro vyhledávací program Netgraph (viz \ref{sec:netgraph}).

\subsection{PLS - Perl Storable Format}
Èistì z~dùvodù optimalizace a èasové úspory se pøi práci s nástroji TrEd a btred poívá formát PLS. Nástroje TrEd a btred jsou zaloeny na Perlu, pøi naèítaní dat ve formátu PML a pøevodu PML dat do vnitøní pamìové reprezentace Perlu se spotøebuje mnoho èasu. Této èasovì nároèné transformaci se lze vyhnout vyuitím formátu PLS (Perl Storable Format). Jde o binární datovı formát, kterı pøímo odráí vnitøní pamìovou reprezentaci dat v Perlu. Jeho ukládání a zpìtné naèítání nástroji TrEd a btred je tedy mnohem rychlejší.

\subsection{Konverze mezi formáty PDT}
Problém s konverzí mezi formáty lingvistické anotace je v tom, e všechny formáty nemohou nést pøesnì stejné mnoství informací. Pøesto jsou v projektu PDT 2.0 zahrnuty skripty pro konverzi nìkterıch formátù:

\begin{itemize}
\item konverze analytické anotace typu PDT 1.0 do PML
\item konverze a-dat PML do CSTS
\item konverze m-dat PML do CSTS
\item konverze dat PDT 2.0 do FS pro Netgraph
\item konverze dat PDT 2.0 do PLS
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Lingvistické nástroje}
\label{sec:ling_tools}
Nyní popíšeme nìkteré lingvistické nástroje, které mohou pomoci pøi zpracování textù pøirozeného jazyka a extrakci informací z nich. Vìtšina tìchto nástrojù je vyvíjena na Ústavu formální a aplikované lingvistiky (ÚFAL). Tyto nástroje je moné (kromì tektogramatického analyzátoru \ref{sec:t-nalysis}) získat jakou souèást PDT 2.0 CD-ROM~\cite{PDT20}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{NetGraph}
\label{sec:netgraph}
Netgraph je aplikace typu klient-server, která umoòuje prohledávat korpus podobnı PDT (anotace mají strukturu závislostního stromu) souèasnì nìkolika uivateli, pøipojenımi pøes internet. Netgraph je navrenı tak, aby prohledávání bylo co nejjednodušší a intuitivní, pøi zachování vysoké síly dotazovacího jazyka. Funkènost aplikace je rozdìlena na èást, kterou vykonává klient, a na èást, kterou vykonává server.

Netgraph klient je napsán v Javì a je nezávislı na platformì. Existuje ve dvou formách - jako samostatná Java aplikace a jako Java applet. Applet verze je oproti plné Java aplikaci ochuzena o nìkteré funkce, pøesto však poskytuje plnou vyhledávací sílu. Funkce klienta zahrnuje vytvoøení (návrh) dotazu, jeho odeslání serveru a zobrazení, pøípadnì další zpracování vısledkù vrácenıch serverem.

Netgraph server je napsán v C a C++ a bìí v operaèním systému Linux i dalších systémech - podrobnosti je moné nalézt v \cite{mirovsky_netgraph}. Umoòuje nastavit uivatelská konta s rùznımi pøístupovımi právy. Korpus, urèenı k prohledávání Netgraphem, musí bıt ve formátu FS (viz~\ref{sec:FS}). Funkce serveru spoèívá ve vyhodnocování dotazù zasílanıch klienty. Server prohledává korpus a stromy, které vyhovují dotazu vrací jako odpovìï.

Dotazy v Netgraphu jsou definovány pomocí vlastního dotazovacího jazyka. Jedná se o jazyk formálnì velmi jednoduchı avšak s vysokou expressivitou. Definovat dotaz v Netgraphu znamená definovat podstrom, kterı se má v prohledávanıch stromech vyskytovat. Tedy v dotazu mùeme definovat poadovanou strukturu stromu. Navíc mùeme v kadém uzlu dotazu vynutit hodnotu nìkterıch atributù tohoto uzlu.

Velmi jednoduchı dotaz, kdy chceme vyhledat všechny stromy obsahující slovo \uv{hasiè} se skládá z jediného uzlu a restrikce na hodnotu atributu \emph{lemma} (viz~\ref{sec:lemma}) na hodnotu \emph{hasiè} v tomto uzlu.

Podrobnosti o monostech a syntaxi tohoto dotazovacího jazyka je moné nalézt napøíklad v~\cite{mirovsky_netgraph}. Poznamenejme ještì, e
dotazy mohou bıt dále rozšíøeny tzv. meta atributy, které umoòují urèení pozice dotazu v nalezenıch stromech, omezení velikosti nalezenıch stromù, urèení vztahù mezi hodnotami atributù u rùznıch uzlù v nalezenıch stromech, negaci a mnoho dalších podmínek.

Dotazy se v Netgraph klient vytváøejí v uivatelsky pøívìtivém grafickém prostøedí. Uivatel si zde mùe \uv{naklikat} celı strom, kterı se má pøi vyhodnocování dotazu hledat. V grafickém rozhraní Netgraph klient má uivatel snadnı pøístup k monostem dotazovacího jazyka, ani by musel tento jazyk podrobnì znát.

Další informace o aplikaci Netgraph je té moné nalézt na její domovské stránce\footnote{http://quest.ms.mf\/f.cuni.cz/netgraph/}.

%%http://quest.ms.mff.cuni.cz/netgraph/
%%file:///C:/Program%20Files/PDT-2.0/doc/tools/netgraph/netgraph_server_install.html

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Tree Editor TrEd}
\label{sec:tred}
Tree Editor TrEd je velmi komplexní grafickı editor, kterı umoòuje rychlé, pohodlné a flexibilní procházení, prohlíení a úpravu stromù v~korpusech podobnım PDT. TrEd prvotnì slouil jako hlavní anotaèní nástroj PDT, ale mùe bıt pouit i k prohlíení dat a obsahuje nìkolik druhù vyhledávacích funkcí. TrEd se vyznaèuje svımi monostmi nastavení a pøizpùsobení celé aplikace na míru potøebám nejrùznìjších uivatelù. Silnı nástroj pøedstavují uivatelská makra, která mohou bıt do aplikace kımkoliv doprogramována v~jazyce Perl. TrEd podporuje velké mnoství vstupních a vıstupních formátù dat, jmenujme napøíklad FS, CSTS, PDT-PML (podrobnosti k jednotlivım formátùm -- viz~\ref{sec:ling_lang}).

TrEd je moné nainstalovat na vìtšinì v souèasné dobì pouívanıch operaèních systémù: Linux, UNIX (MacOS X, BSD, Solaris, ...) i Windows (funguje díky ActivePerl for Windows, kterı musí bıt v systému nainstalovanı). Na domovské stránce\footnote{http://ufal.mf\/f.cuni.cz/\~{}pajas/tred/} editoru TrEd lze získat jednotlivé instalaèní balíèky i podrobné instrukce pro instalaci na konkrétní operaèní systém.

\subsubsection{Ukázkové obrázky}
Na obrázcích~\ref{pict:analytic_example} a \ref{pict:tecto_example} jsou schémata stromù získaná pøímo z editoru TrEd. Takto jsou pøi vıchozím nastavení v~TrEd editoru zobrazovány analytické a tektogramatické stromy.

\subsubsection{btred / ntred}
Souèástí editoru TrEd jsou té dva nástroje - \emph{btred} a \emph{ntred}, které umoòují automatické (dávkové) zpracování stromù korpusu. Ntred je pouze rozšíøením nástroje btred o monost zpracovávat korpus paralelnì více poèítaèi v~síti najednou.

Tyto nástroje se spouštìjí pøímo z pøíkazové øádky, nemají grafické rozhraní. Èinnost tìchto nástrojù, je øízena uivatelskım programem (makrem btred-u), které uivatel musí napsat v programovacím jazyce Perl. Pøi psaní toho makra má uivatel k~dispozici velké mnoství specializovanıch funkcí pro práci se strukturami korpusu: s~jednotlivımi stromy, s~uzly stromù, s~atributy uzlù atp.

Pøehlednı a dobøe srozumitelnı návod -- \uv{btred/ntred tutorial}\footnote{http://ufal.mf\/f.cuni.cz/\~{}pajas/tred/bn-tutorial.html}, jak pracovat s nástroji btred a ntred je moné nalézt na domovskıch stránkách editoru TrEd.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Tools for machine annotation - PDT 2.0}
\label{sec:anot_tools}
Jedná o skupinu nástrojù, které provádìjí plnì automatickou lingvistickou analızu èeského textu. Ze surovıch èeskıch vìt vytváøejí závislostní stromy na~analytické rovinì. Proces anotace se skládá z následujících funkcí.

\begin{enumerate}
\item Rozpoznání slovních jednotek ve vstupním surovém textu a rozdìlení textu na vìty.
\item Morfologická analıza a tagging (morfologická desambiguace).
\item Závislostní parsing.
\item Pøiøazení analytickıch (závislostních) funkcí všem uzlùm zparsovaného stromu.
\end{enumerate}

Tyto funkce jsou implementovány v celkem šesti oddìlenıch nástrojích. Vstupem kadého nástroje je vdy vıstup pøedchozího s vıjimkou prvního, jeho vstupem je prostı text. Nástroje jsou napsány z èásti v Perlu, zbytek tvoøí pøeloenı kód (C++) pro Linux bìící na i386 architektuøe.

Celı øetìz nástrojù se dá spustit jedinım skriptem \emph{run\_all}.


Tyto nástroje a jejich podrobnı popis\footnote{http://ufal.mf\/f.cuni.cz/pdt2.0/doc/tools/machine-annotation/} (vèetnì namìøené chybovosti) jsou k dispozici jako souèást PDT 2.0 CD-ROM \cite{PDT20}.


Následuje podrobnìjší popis jednotlivıch nástrojù.



\subsubsection*{Segmentation and tokenization}


Provádí rozdìlení textu na slova a interpunkèní znaménka (tokenizace) a rozdìlí tyto tokeny do vìt (segmentace).

\subsubsection*{Morphological analysis}

Pro kadé slovo vyhledá všechna moná lemmata a morfologické znaèky, která by mu mohly odpovídat.

\subsubsection*{Morphological tagging}
\label{sec:morphological_tagging}

Ze všech monıch alternativ získanıch v pøedchozím kroku pro kadé slovo vybere jedno lemma a morfologickou znaèku. Tento proces se èasto nazıvá desambiguace.
Tagging pro Èeštinu je pomìrnì zajímavı vìdeckı problém, kterı je podrobnì rozpracován v mnoha  publikacích\footnote{http://ufal.mf\/f.cuni.cz/czech-tagging/}.

\subsubsection*{Parsing}

Morfologicky oznaèkovaná slova v kadé vìtì uspoøádá do závislostního stromu.
Problém automatického závislostního parsingu\footnote{http://ufal.mf\/f.cuni.cz/czech-parsing/}
je stále pomìrnì ivı. Aktuálnì nejlepší parser \cite{zeman_parser} dosahuje pøesnosti pøiblinì 86\%

\subsubsection*{Analytical function assignment}

Jednotlivım hranám závislostního stromu, které vznikly v pøedchozím kroku, pøiøadí funktory analytické roviny. Nástroj pracuje jako klasifikátor zaloenı na rozhodovacím stromu. Øídící rozhodovací strom byl vytvoøen pomocí Quinlanova C5 klasifikátoru z dat PDT 1.0.

\subsubsection*{Conversion into PML}

Zapíše vıstup pøedchozího nástroje v PML jazyce. Pro podrobnìjší informace o PML viz oddíl~\ref{sec:PDT}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Nástroj pro tektogramatickou analızu èeštiny}
\label{sec:t-nalysis}
Jedná o nástroj, kterı provádí automatickou tektogramatickou lingvistickou anotaci. Jako vstup akceptuje na analytické rovinì anotovaná data uloená ve formátu PML. Tedy dokáe vıstup nástrojù vıše (\ref{sec:anot_tools} -- Tools for machine annotation) povıšit na tektogramatickou rovinu.

Nástroj je zaloenı na strojovém uèení, pro které byl pouit nástroj \emph{fnTBL toolkit}\footnote{http://nlp.cs.jhu.edu/\~{}rf\/lorian/fntbl/index.html} \cite{fnTBL}. Pro èeštinu bylo uèení realizováno na datech PDT 2.0.  Podrobnosti o algoritmu a jeho úspìšnosti je moné nalézt v~èlánku \cite{klimes_t-nalysis}.

Autorem tohoto nástroje je Václav Klimeš\footnote{http://ufal.mf\/f.cuni.cz/\~{}klimes/}. U nìho je moné tento nástroj získat spoleènì s dalšími informacemi a instrukcemi pro instalaci. Poslední verze (rok 2007) byla urèena pro operaèní systém Linux.

%%http://ufal.mff.cuni.cz/~klimes/ (Václav Klimeš kontaktní informace)
%%http://nlp.cs.jhu.edu/~rflorian/fntbl/index.html fnTBL Toolkit

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Lingvistika a znalostní inenırství}
\label{sec:ling_knowledge}

\section{Znalosti formulované v pøirozeném jazyce}
Pri hledani nejake vety k ukazkove anotaci jsem narazil na tuhle:
(je to z prihlasky na DS)

Uchazec vyplni obor studia, vyzkumne tema, skalici pracoviste, zajisti
podpis skolitele a podpis predsedy ...


Tahle veta je zvlastni v tom, ze je formulovana obecne: pro vsechny
uchazece, pro libovolne tema, pracoviste, podpis libovolneho
skolitele, predsedy. Avsak skolitel je pevne spojen s tematem prace a
predseda je spojen s pracovistem.

Jak anotovat takovou vetu? Jaka je jeji semantika? Vznikne nejaky
Abox? Nebo v anotaci pouzijeme nejake volne promenne pro individua.
Nebo budeme anotovat pouze pomoci nazvu trid a instance nejakym
zpusobem vynechame?

\section{Rozdíl mezi konkrétním a abstraktním}

